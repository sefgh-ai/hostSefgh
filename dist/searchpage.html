<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SEFGH-AI - AI-Powered GitHub Search Engine</title>
    <meta name="description" content="Advanced GitHub repository search powered by AI. Find projects with natural language queries, get detailed analysis, and explore repositories intelligently." />
    <base href="/dist/">
    
    <!-- CSS and styling dependencies -->
    <link rel="stylesheet" href="./assets_new/index-BMdEPMyA.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geo:ital@0;1&display=swap" rel="stylesheet">
    
    <style>
      /* Fallback styles in case the CSS doesn't load */
      body {
        font-family: 'Geo', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f9f9f9;
      }
      .fallback-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        text-align: center;
        padding: 0 20px;
      }
      .fallback-loader {
        border: 5px solid #f3f3f3;
        border-top: 5px solid #3498db;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 2s linear infinite;
        margin-bottom: 20px;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      /* This ensures the app UI is visible when loaded */
      #root:not(:empty) + .fallback-content {
        display: none;
      }
    </style>
    
    <!-- Fix for direct path access -->
    <script type="text/javascript">
      // Store current path for SPA routing
      window.APP_CONFIG = {
        initialPath: "/searchpage",
        isSearchPage: true,
        basePath: "/dist"
      };
      
      // This function will attempt to correct path references if they're wrong
      function fixAssetPaths() {
        if (!document.querySelector('link[href="./assets_new/index-BMdEPMyA.css"]').sheet) {
          // CSS failed to load, try alternative paths
          const alternativePaths = [
            "/dist/assets_new/index-BMdEPMyA.css",
            "/assets_new/index-BMdEPMyA.css",
            "../assets_new/index-BMdEPMyA.css"
          ];
          
          alternativePaths.forEach(path => {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = path;
            document.head.appendChild(link);
          });
        }
      }
      
      // Run after a short delay to check if assets loaded
      setTimeout(fixAssetPaths, 1000);
    </script>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- Fallback content that shows while loading or if app fails -->
    <div class="fallback-content">
      <div class="fallback-loader"></div>
      <h1>SEFGH-AI Search</h1>
      <p>Loading the search interface...</p>
      <div id="error-message" style="color: red; margin-top: 20px; display: none;">
        Failed to load the application. <a href="/">Return to homepage</a>
      </div>
    </div>
    
    <!-- Load the main app JavaScript -->
    <script type="module" crossorigin src="./assets_new/index-CpI4sU1n.js"></script>
    
    <!-- Fallback script that handles loading errors -->
    <script>
      // Monitor if the app loads successfully
      let appLoaded = false;
      
      function checkAppLoaded() {
        const rootEl = document.getElementById('root');
        if (rootEl && rootEl.children && rootEl.children.length > 0) {
          appLoaded = true;
        } else {
          // Try alternate JavaScript paths if the app didn't load
          const alternativeScripts = [
            "/dist/assets_new/index-CpI4sU1n.js",
            "/assets_new/index-CpI4sU1n.js",
            "../assets_new/index-CpI4sU1n.js"
          ];
          
          // Try each alternative path
          for (let i = 0; i < alternativeScripts.length; i++) {
            const script = document.createElement('script');
            script.type = "module";
            script.crossOrigin = true;
            script.src = alternativeScripts[i];
            document.body.appendChild(script);
          }
          
          // Show error message after waiting
          setTimeout(() => {
            if (!appLoaded) {
              document.getElementById('error-message').style.display = 'block';
            }
          }, 5000);
        }
      }
      
      // Wait for load event then check if app initialized
      window.addEventListener('load', () => {
        setTimeout(checkAppLoaded, 2000);
      });
    </script>
  </body>
</html>
